views:
  - path: default_view
    title: Home
    type: sections
    icon: mdi:home
    max_columns: 3
    sections:
      - type: grid
        cards:
          - type: button
            name: Kitchen & Living Room
            icon: mdi:countertop
            tap_action:
              action: navigate
              navigation_path: /my-dashboard/kitchen-living
            grid_options:
              columns: 4
              rows: 3
          - type: button
            name: Master Suite
            icon: mdi:bed-king
            tap_action:
              action: navigate
              navigation_path: /my-dashboard/master-suite
            grid_options:
              columns: 4
              rows: 3
          - type: button
            name: Dima's Bedroom
            icon: mdi:bed
            tap_action:
              action: navigate
              navigation_path: /my-dashboard/dima-bedroom
            grid_options:
              columns: 4
              rows: 3
          - type: button
            name: Zoe's Bedroom
            icon: mdi:bed
            tap_action:
              action: navigate
              navigation_path: /my-dashboard/zoe-bedroom
            grid_options:
              columns: 4
              rows: 3
          - type: button
            name: Upstairs Bathroom
            icon: mdi:shower
            tap_action:
              action: navigate
              navigation_path: /my-dashboard/upstairs-bathroom
            grid_options:
              columns: 4
              rows: 3
          - type: button
            name: Garage
            icon: mdi:garage
            tap_action:
              action: navigate
              navigation_path: /my-dashboard/garage
            grid_options:
              columns: 4
              rows: 3
          - type: button
            name: Patio & Entrance
            icon: mdi:door-open
            tap_action:
              action: navigate
              navigation_path: /my-dashboard/patio-entrance
            grid_options:
              columns: 4
              rows: 3
          - type: button
            name: Climate Control
            icon: mdi:hvac
            tap_action:
              action: navigate
              navigation_path: /my-dashboard/climate
            grid_options:
              columns: 4
              rows: 3
          - type: button
            name: Appliances
            icon: mdi:washing-machine
            tap_action:
              action: navigate
              navigation_path: /my-dashboard/appliances
            grid_options:
              columns: 4
              rows: 3
          - type: button
            name: Plants
            icon: mdi:flower
            tap_action:
              action: navigate
              navigation_path: /my-dashboard/plants
            grid_options:
              columns: 4
              rows: 3
          - type: button
            name: Water
            icon: mdi:water
            tap_action:
              action: navigate
              navigation_path: /my-dashboard/water
            grid_options:
              columns: 4
              rows: 3
          - type: button
            name: Entry & Security
            icon: mdi:shield-home
            tap_action:
              action: navigate
              navigation_path: /my-dashboard/entry-security
            grid_options:
              columns: 4
              rows: 3
    badges:
      - type: entity
        show_name: true
        show_state: true
        show_icon: true
        entity: weather.forecast_home
        name: Forecast
        state_content:
          - state
          - temperature
        card_mod:
          style: |
            :host {
              --ha-label-badge-size: 80px;
              --ha-label-badge-font-size: 1.2em;
            }
      - type: entity
        show_name: true
        show_state: true
        show_icon: true
        entity: sensor.patio_temp_humidity_sensor_temperature
        name: Patio Temp
        state_content:
          - state
        display_precision: 1
        card_mod:
          style: |
            :host {
              --ha-label-badge-size: 80px;
              --ha-label-badge-font-size: 1.2em;
            }
      - type: entity
        show_name: true
        show_state: true
        show_icon: true
        entity: sensor.patio_temp_humidity_sensor_humidity
        name: Patio Humidity
        state_content:
          - state
        display_precision: 0
        card_mod:
          style: |
            :host {
              --ha-label-badge-size: 80px;
              --ha-label-badge-font-size: 1.2em;
            }
  - type: sections
    title: Kitchen & Living Room
    path: kitchen-living
    icon: mdi:countertop
    subview: true
    back_path: /my-dashboard/default_view
    max_columns: 1
    sections:
      - type: grid
        card_mod:
          style: |
            ha-card {
              background: rgba(255, 255, 255, 0.1);
            }
        cards:
          - type: heading
            heading: Kitchen Lights
          - type: grid
            columns: 2
            square: false
            cards:
              - type: tile
                entity: light.kitchen_main_lights
                name: Main Lights
                icon: mdi:ceiling-light
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: light.kitchen_under_cabinet
                name: Under Cabinet
                icon: mdi:led-strip-variant
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: light.kitchen_pantry
                name: Pantry
                icon: mdi:door
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
      - type: grid
        card_mod:
          style: |
            ha-card {
              background: rgba(255, 255, 255, 0.1);
            }
        cards:
          - type: heading
            heading: Living Room Lights
          - type: grid
            columns: 2
            square: false
            cards:
              - type: tile
                entity: light.living_room_lamp
                name: Lamp
                icon: mdi:lamp
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: light.living_room_spot_lights
                name: Spot Lights
                icon: mdi:ceiling-light-multiple
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: light.living_room_christmas_tree_outlet
                name: Christmas Tree
                icon: mdi:pine-tree
                color: green
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: light.front_door_area
                name: Front Door Area
                icon: mdi:door
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
      - type: grid
        card_mod:
          style: |
            ha-card {
              background: rgba(255, 255, 255, 0.1);
            }
        cards:
          - type: heading
            heading: Stairs
          - type: grid
            columns: 2
            square: false
            cards:
              - type: tile
                entity: light.stairs_spot_lights
                name: Spot Lights
                icon: mdi:ceiling-light
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: light.stairs_led_strip_2
                name: LED Strip
                icon: mdi:led-strip-variant
                color: blue
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
      - type: grid
        card_mod:
          style: |
            ha-card {
              background: rgba(255, 255, 255, 0.1);
            }
        cards:
          - type: heading
            heading: Climate & Environment
          - type: grid
            columns: 2
            square: false
            cards:
              - type: tile
                entity: sensor.hue_motion_01_temperature
                name: Kitchen Temp
                icon: mdi:thermometer
                color: red
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: sensor.living_room_presence_2_dps310_temperature
                name: Living Room Temp
                icon: mdi:thermometer
                color: red
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: sensor.living_room_presence_2_co2
                name: CO2
                icon: mdi:molecule-co2
                color: green
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: sensor.living_room_presence_2_ltr390_light
                name: Illuminance
                icon: mdi:brightness-6
                color: yellow
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
      - type: grid
        card_mod:
          style: |
            ha-card {
              background: rgba(255, 255, 255, 0.1);
            }
        cards:
          - type: heading
            heading: Doors & Windows
          - type: grid
            columns: 2
            square: false
            cards:
              - type: tile
                entity: binary_sensor.kitchen_door_contact_sensor_contact
                name: Kitchen Door
                icon: mdi:door
                color: blue
                tap_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: binary_sensor.patio_door_contact_sensor_contact
                name: Patio Door
                icon: mdi:door-sliding
                color: blue
                tap_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
      - type: grid
        card_mod:
          style: |
            ha-card {
              background: rgba(255, 255, 255, 0.1);
            }
        cards:
          - type: heading
            heading: Monitoring
          - type: entities
            show_header_toggle: false
            state_color: true
            entities:
              - type: custom:fold-entity-row
                head:
                  type: section
                  label: Sensors (tap to expand)
                padding: 5
                open: false
                entities:
                  - entity: binary_sensor.hue_motion_01_motion
                    name: Kitchen Motion
                    secondary_info: last-changed
                    icon: mdi:motion-sensor
                  - entity: binary_sensor.living_room_presence_2_sensors
                    name: Living Room Presence
                    secondary_info: last-changed
                    icon: mdi:eye
                  - entity: binary_sensor.stairs_motion_sensors
                    name: Stairs Motion
                    secondary_info: last-changed
                    icon: mdi:motion-sensor
                  - type: divider
                  - entity: binary_sensor.kitchen_sink_moisture_sensor_water_leak
                    name: Kitchen Sink
                    secondary_info: last-changed
                    icon: mdi:water-alert
                  - entity: >-
                      binary_sensor.kitchen_dishwasher_moisture_sensor_water_leak
                    name: Dishwasher
                    secondary_info: last-changed
                    icon: mdi:water-alert
                  - entity: >-
                      binary_sensor.kitchen_refrigerator_moisture_sensor_water_leak
                    name: Refrigerator
                    secondary_info: last-changed
                    icon: mdi:water-alert
                  - type: divider
                  - entity: remote.living_room_tv_2
                    name: TV Remote
                    secondary_info: last-changed
                  - type: custom:template-entity-row
                    icon: mdi:timer
                    name: Button Timer Remaining
                    state: >-
                      {% set t = (60 - (now().timestamp() -
                      states('input_datetime.livingroom_kitchen_button_pressed_timestamp')
                      | as_timestamp) / 60) | round(0) %} {% if t < 0 %} 0 {%
                      else %} {{ t }} {% endif %} minutes
  - type: sections
    title: Master Suite
    path: master-suite
    icon: mdi:bed-king
    subview: true
    back_path: /my-dashboard/default_view
    max_columns: 1
    sections:
      - type: grid
        cards:
          - type: heading
            heading: Bedroom Lights
          - type: grid
            columns: 2
            square: false
            cards:
              - type: tile
                entity: light.master_bedroom_main_lights
                name: Main Lights
                icon: mdi:ceiling-light-multiple
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: light.master_bedroom_bedside_lamps
                name: Bedside Lamps
                icon: mdi:lamp
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: light.master_bedroom_olesia_lamp
                name: Olesia Lamp
                icon: mdi:lamp
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: light.master_bedroom_richard_lamp
                name: Richard Lamp
                icon: mdi:lamp
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: light.master_bedroom_floor_lamp
                name: Floor Lamp
                icon: mdi:floor-lamp
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: light.master_bedroom_under_bed_led_strip
                name: Under Bed Lights
                icon: mdi:led-strip-variant
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: light.dlight_01_slider
                icon: mdi:dimmer-switch
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: light.master_bedroom_closet_area
                name: Closet Area
                icon: mdi:hanger
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: light.master_bedroom_vanity
                name: Vanity
                icon: mdi:vanity-light
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: light.master_bedroom_vanity_plus_closet
                name: Vanity + Closet
                icon: mdi:vanity-light
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
      - type: grid
        cards:
          - type: heading
            heading: Bathroom
          - type: grid
            columns: 2
            square: false
            cards:
              - type: tile
                entity: light.master_bathroom_main_lights_2
                name: Main Lights
                icon: mdi:ceiling-light
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: light.master_bathroom_presence_rgb_light
                name: Night Light
                icon: mdi:lightbulb-night
                color: green
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: switch.master_bathroom_exhaust_fan
                name: Exhaust Fan
                icon: mdi:fan
                color: blue
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
      - type: grid
        cards:
          - type: heading
            heading: Climate & Environment - Bedroom
          - type: grid
            columns: 2
            square: false
            cards:
              - type: tile
                entity: sensor.master_bedroom_temp_humidity_temperature
                name: Temperature
                icon: mdi:thermometer
                color: red
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: sensor.master_bedroom_temp_humidity_humidity
                name: Humidity
                icon: mdi:water-percent
                color: blue
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: sensor.everything_presence_lite_5cd9e4_co2
                name: CO2
                icon: mdi:molecule-co2
                color: green
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: sensor.master_bedroom_illuminance_moving_average
                name: Illuminance
                icon: mdi:brightness-6
                color: yellow
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
      - type: grid
        cards:
          - type: heading
            heading: Climate & Environment - Bathroom
          - type: grid
            columns: 2
            square: false
            cards:
              - type: tile
                entity: sensor.master_bathroom_temp_humidity_2_temperature
                name: Temperature
                icon: mdi:thermometer
                color: red
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: sensor.master_bathroom_temp_humidity_2_humidity
                name: Humidity
                icon: mdi:water-percent
                color: blue
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: sensor.master_bathroom_presence_co2
                name: CO2
                icon: mdi:molecule-co2
                color: green
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
      - type: grid
        cards:
          - type: heading
            heading: Doors & Windows
          - type: grid
            columns: 2
            square: false
            cards:
              - type: tile
                entity: binary_sensor.master_bedroom_window_contact_sensor_contact
                name: Window
                icon: mdi:window-closed
                tap_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
      - type: grid
        cards:
          - type: heading
            heading: Media
          - type: media-control
            entity: media_player.tv_2
      - type: grid
        cards:
          - type: heading
            heading: Monitoring
          - type: entities
            show_header_toggle: false
            state_color: true
            entities:
              - type: custom:fold-entity-row
                head:
                  type: section
                  label: Monitoring
                padding: 5
                entities:
                  - entity: binary_sensor.master_bedroom_vanity_moisture_sensor_water_leak
                    name: Vanity Moisture
                    secondary_info: last-changed
                    icon: mdi:water-alert
                  - entity: binary_sensor.everything_presence_lite_5cd9e4_zone_1_occupancy
                    name: Chair Occupancy
                    secondary_info: last-changed
                    icon: mdi:seat
                  - entity: binary_sensor.master_bedroom_presence_sensors
                    name: Bedroom Presence
                    secondary_info: last-changed
                    icon: mdi:eye
                  - entity: sensor.master_bathroom_derivative_humidity
                    name: Derivative Humidity
                    secondary_info: last-changed
                  - entity: binary_sensor.master_bathroom_humidity_target
                    name: Humidity Target
                    secondary_info: last-changed
                  - entity: sensor.master_bathroom_temp_humidity_2_humidity
                    name: Bathroom Humidity
                    secondary_info: last-changed
                  - entity: climate.home_downstairs
                    name: Downstairs Target Humidity
                    secondary_info: last-changed
                  - entity: timer.master_bathroom_fan_timer
                    name: Fan Timer
                    secondary_info: last-changed
                    icon: mdi:timer
                  - entity: timer.master_bathroom_lights_timer
                    name: Lights Timer
                    secondary_info: last-changed
                    icon: mdi:timer-outline
                  - entity: binary_sensor.master_bathroom_moisture_sensor_water_leak
                    name: Bathroom Moisture
                    secondary_info: last-changed
                    icon: mdi:water-alert
                  - entity: binary_sensor.master_bathroom_motion_sensors
                    name: Bathroom Presence
                    secondary_info: last-changed
                    icon: mdi:eye
                  - entity: remote.tv
                    name: TV Remote
                    secondary_info: last-changed
  - type: sections
    title: Dima's Bedroom
    path: dima-bedroom
    icon: mdi:bed
    subview: true
    back_path: /my-dashboard/default_view
    max_columns: 1
    sections:
      - type: grid
        cards:
          - type: heading
            heading: Lights
          - type: grid
            columns: 2
            square: false
            cards:
              - type: tile
                entity: light.dima_bedroom_main_lights
                name: Main Lights
                icon: mdi:ceiling-light
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
      - type: grid
        cards:
          - type: heading
            heading: Climate & Environment
          - type: grid
            columns: 2
            square: false
            cards:
              - type: tile
                entity: sensor.dima_bedroom_presence_dps310_temperature
                name: Temperature
                icon: mdi:thermometer
                color: red
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: sensor.dima_bedroom_presence_co2
                name: CO2
                icon: mdi:molecule-co2
                color: green
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: sensor.dima_bedroom_presence_ltr390_light
                name: Illuminance
                icon: mdi:brightness-6
                color: yellow
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
      - type: grid
        cards:
          - type: heading
            heading: Monitoring
          - type: entities
            show_header_toggle: false
            state_color: true
            entities:
              - type: custom:fold-entity-row
                head:
                  type: section
                  label: Monitoring
                padding: 5
                entities:
                  - entity: binary_sensor.dima_bedroom_presence_radar_target
                    name: Presence
                    secondary_info: last-changed
                    icon: mdi:eye
                  - entity: timer.dima_bedroom_lights_timer
                    name: Lights Timer
                    secondary_info: last-changed
                    icon: mdi:timer
  - type: sections
    title: Zoe's Bedroom
    path: zoe-bedroom
    icon: mdi:bed
    subview: true
    back_path: /my-dashboard/default_view
    max_columns: 1
    sections:
      - type: grid
        cards:
          - type: heading
            heading: Lights
          - type: grid
            columns: 2
            square: false
            cards:
              - type: tile
                entity: light.zoe_bedroom_main_lights
                name: Main Lights
                icon: mdi:ceiling-light
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: light.christmas_tree_zoe_outlet
                name: Christmas Tree
                icon: mdi:pine-tree
                color: green
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
      - type: grid
        cards:
          - type: heading
            heading: Climate & Environment
          - type: grid
            columns: 2
            square: false
            cards:
              - type: tile
                entity: sensor.zoe_bedroom_temp_humidity_temperature
                name: Temperature
                icon: mdi:thermometer
                color: red
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: sensor.zoe_bedroom_temp_humidity_humidity
                name: Humidity
                icon: mdi:water-percent
                color: blue
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: sensor.zoe_bedroom_presence_2_co2
                name: CO2
                icon: mdi:molecule-co2
                color: green
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: sensor.zoe_bedroom_presence_2_ltr390_light
                name: Illuminance
                icon: mdi:brightness-6
                color: yellow
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
      - type: grid
        cards:
          - type: heading
            heading: Doors & Windows
          - type: grid
            columns: 2
            square: false
            cards:
              - type: tile
                entity: binary_sensor.zoe_bedroom_window_contact_sensor_contact
                name: Window
                icon: mdi:window-closed
                tap_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
      - type: grid
        cards:
          - type: heading
            heading: Monitoring
          - type: entities
            show_header_toggle: false
            state_color: true
            entities:
              - type: custom:fold-entity-row
                head:
                  type: section
                  label: Monitoring
                padding: 5
                entities:
                  - entity: binary_sensor.zoe_bedroom_presence_sensors
                    name: Presence
                    secondary_info: last-changed
                    icon: mdi:eye
                  - entity: timer.zoe_bedroom_lights_timer
                    name: Lights Timer
                    secondary_info: last-changed
                    icon: mdi:timer
  - type: sections
    title: Upstairs Bathroom
    path: upstairs-bathroom
    icon: mdi:shower
    subview: true
    back_path: /my-dashboard/default_view
    max_columns: 1
    sections:
      - type: grid
        cards:
          - type: heading
            heading: Bathroom
          - type: grid
            columns: 2
            square: false
            cards:
              - type: tile
                entity: light.upstairs_bathroom_main_lights_2
                name: Main Lights
                icon: mdi:ceiling-light
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: fan.upstairs_bathroom_exhaust_fan
                name: Exhaust Fan
                icon: mdi:fan
                color: blue
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
      - type: grid
        cards:
          - type: heading
            heading: Vanity
          - type: grid
            columns: 2
            square: false
            cards:
              - type: tile
                entity: light.upstairs_bathroom_vanity_lights_2
                name: Lights
                icon: mdi:vanity-light
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: light.upstairs_vanity_night_light
                name: Night Light
                icon: mdi:lightbulb-night
                color: blue
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
      - type: grid
        cards:
          - type: heading
            heading: Climate & Environment
          - type: grid
            columns: 2
            square: false
            cards:
              - type: tile
                entity: sensor.upstairs_bathroom_temp_humidity_2_temperature
                name: Temperature
                icon: mdi:thermometer
                color: red
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: sensor.upstairs_bathroom_temp_humidity_2_humidity
                name: Humidity
                icon: mdi:water-percent
                color: blue
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
      - type: grid
        cards:
          - type: heading
            heading: Monitoring
          - type: entities
            show_header_toggle: false
            state_color: true
            entities:
              - type: custom:fold-entity-row
                head:
                  type: section
                  label: Monitoring
                padding: 5
                entities:
                  - entity: binary_sensor.upstairs_bathroom_humidity_target
                    name: Humidity Target
                    secondary_info: last-changed
                  - entity: sensor.upstairs_bathroom_temp_humidity_2_humidity
                    name: Bathroom Humidity
                    secondary_info: last-changed
                  - entity: climate.home_upstairs
                    name: Upstairs Target Humidity
                    secondary_info: last-changed
                  - entity: sensor.upstairs_bathroom_derivative_humidity
                    name: Derivative Humidity
                    secondary_info: last-changed
                  - entity: binary_sensor.upstairs_bathroom_motion_sensors
                    name: Bathroom Presence
                    secondary_info: last-changed
                    icon: mdi:eye
                  - entity: timer.upstairs_bathroom_fan_timer
                    name: Fan Timer
                    secondary_info: last-changed
                    icon: mdi:timer
                  - entity: binary_sensor.upstairs_bathroom_moisture_sensor_water_leak
                    name: Bathroom Moisture
                    secondary_info: last-changed
                    icon: mdi:water-alert
                  - entity: binary_sensor.upstairs_vanity_motion_occupancy
                    name: Vanity Presence
                    secondary_info: last-changed
                    icon: mdi:eye
                  - entity: binary_sensor.upstairs_vanity_moisture_sensor_water_leak
                    name: Vanity Moisture
                    secondary_info: last-changed
                    icon: mdi:water-alert
                  - entity: binary_sensor.upstairs_vanity_night_light_occupancy
                    name: Vanity Night Light Motion
                    secondary_info: last-changed
                    icon: mdi:motion-sensor
                  - entity: sensor.upstairs_vanity_night_light_illuminance
                    name: Vanity Night Light Luminance
                    secondary_info: last-changed
                    icon: mdi:brightness-6
  - type: sections
    title: Garage
    path: garage
    icon: mdi:garage
    subview: true
    back_path: /my-dashboard/default_view
    max_columns: 1
    sections:
      - type: grid
        cards:
          - type: heading
            heading: Garage Door
          - type: grid
            columns: 2
            square: false
            cards:
              - type: tile
                entity: cover.garage_door_opener_door
                name: Door
                icon: mdi:garage
                tap_action:
                  action: toggle
                  confirmation:
                    text: Open/close garage door?
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
      - type: grid
        cards:
          - type: heading
            heading: Lights
          - type: grid
            columns: 2
            square: false
            cards:
              - type: tile
                entity: light.garage_door_opener_light
                name: Opener Light
                icon: mdi:lightbulb
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: light.garage_wall_lights
                icon: mdi:wall-sconce-flat
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: light.meross_smart_switch_3
                name: Shop Light
                icon: mdi:lightbulb-fluorescent-tube
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: light.garage_door_christmas_lights
                icon: mdi:pine-tree
                color: green
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
      - type: grid
        cards:
          - type: heading
            heading: Controls
          - type: entities
            entities:
              - entity: input_boolean.garage_manual_override
                name: Manual Override
                icon: mdi:account-check
              - type: conditional
                conditions:
                  - condition: state
                    entity: input_boolean.garage_manual_override
                    state: "off"
                row:
                  entity: input_number.garage_manual_override_timeout
                  name: Override Timeout
                  icon: mdi:timer-lock
              - type: conditional
                conditions:
                  - condition: state
                    entity: input_boolean.garage_manual_override
                    state: "on"
                row:
                  type: custom:template-entity-row
                  entity: input_datetime.garage_manual_override_until
                  name: Time Remaining
                  icon: mdi:timer-lock
                  state: >-
                    {% set until = states('input_datetime.garage_manual_override_until') %}
                    {% if until not in ['unknown', 'unavailable', ''] %}
                      {% set until_ts = as_timestamp(until) | default(0) %}
                      {% set now_ts = now().timestamp() %}
                      {% if until_ts > now_ts %}
                        {% set remaining_minutes = ((until_ts - now_ts) / 60) | int %}
                        {% set hours = (remaining_minutes / 60) | int %}
                        {% set minutes = remaining_minutes % 60 %}
                        {% if hours > 0 and minutes > 0 %}
                          {{ hours }} hours and {{ minutes }} minutes left
                        {% elif hours > 0 %}
                          {{ hours }} hours left
                        {% else %}
                          {{ minutes }} minutes left
                        {% endif %}
                      {% else %}
                        Expired
                      {% endif %}
                    {% else %}
                      Not set
                    {% endif %}
      - type: grid
        cards:
          - type: heading
            heading: Monitoring
          - type: entities
            show_header_toggle: false
            state_color: true
            entities:
              - type: custom:fold-entity-row
                head:
                  type: section
                  label: Monitoring
                padding: 5
                entities:
                  - entity: binary_sensor.group_garage_door_opener_motion
                    name: Opener Motion
                    secondary_info: last-changed
                    icon: mdi:motion-sensor
                  - entity: >-
                      binary_sensor.garage_camera_smart_occupancy_sensor_occupancysensor
                    name: Smart Occupancy
                    secondary_info: last-changed
                    icon: mdi:eye
                  - entity: binary_sensor.garage_water_heater_moisture_sensor_water_leak
                    name: Water Heater Moisture
                    secondary_info: last-changed
                    icon: mdi:water-alert
  - type: sections
    title: Patio & Entrance
    path: patio-entrance
    icon: mdi:door-open
    subview: true
    back_path: /my-dashboard/default_view
    max_columns: 1
    sections:
      - type: grid
        cards:
          - type: heading
            heading: Patio Lights
          - type: grid
            columns: 2
            square: false
            cards:
              - type: tile
                entity: switch.patio_bistro_lights_2
                name: Bistro Lights
                icon: mdi:string-lights
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: switch.patio_christmas_lights_2
                name: Christmas Lights
                icon: mdi:pine-tree
                color: green
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: light.patio_camera_floodlight_timed
                name: Camera Floodlight
                icon: mdi:spotlight-beam
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
      - type: grid
        cards:
          - type: heading
            heading: Entrance Lights
          - type: grid
            columns: 2
            square: false
            cards:
              - type: tile
                entity: light.front_porch_sconces
                icon: mdi:wall-sconce-flat
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: light.entrance_overhead_light
                icon: mdi:ceiling-light
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: light.front_side_camera_floodlight_timed
                name: Side Camera Floodlight
                icon: mdi:spotlight-beam
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: light.sidewalk_street_camera_illuminator
                icon: mdi:lightbulb-on
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: light.front_full_camera_illuminator
                icon: mdi:lightbulb-on
                color: amber
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
      - type: grid
        cards:
          - type: heading
            heading: Lock & Security
          - type: grid
            columns: 2
            square: false
            cards:
              - type: tile
                entity: lock.front_door_lock
                icon: mdi:door-closed-lock
                tap_action:
                  action: toggle
                hold_action:
                  action: more-info
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
      - type: grid
        cards:
          - type: heading
            heading: Climate & Environment
          - type: grid
            columns: 2
            square: false
            cards:
              - type: tile
                entity: sensor.patio_temp_humidity_sensor_temperature
                name: Patio Temp
                icon: mdi:thermometer
                color: red
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
              - type: tile
                entity: sensor.patio_temp_humidity_sensor_humidity
                name: Patio Humidity
                icon: mdi:water-percent
                color: blue
                card_mod:
                  style: |
                    ha-card {
                      background: rgba(255, 255, 255, 0.1);
                    }
      - type: grid
        cards:
          - type: heading
            heading: Monitoring
          - type: entities
            show_header_toggle: false
            state_color: true
            entities:
              - type: custom:fold-entity-row
                head:
                  type: section
                  label: Monitoring
                padding: 5
                entities:
                  - entity: binary_sensor.front_door_lock_low_battery_level
                    name: Lock Low Battery
                    secondary_info: last-changed
                    icon: mdi:battery-alert
                  - entity: sensor.front_door_lock_battery_level
                    name: Lock Battery Level
                    secondary_info: last-changed
                    icon: mdi:battery
                  - entity: sensor.doorbell_cpu_usage
                    secondary_info: last-changed
                    icon: mdi:chip
  - type: sections
    max_columns: 2
    title: Climate Control
    path: climate
    icon: mdi:hvac
    subview: true
    back_path: /my-dashboard/default_view
    sections:
      - type: grid
        cards:
          - type: thermostat
            entity: climate.home_downstairs
            features:
              - style: icons
                type: climate-hvac-modes
          - type: thermostat
            entity: climate.home_upstairs
            features:
              - style: icons
                type: climate-hvac-modes
  - type: sections
    title: Appliances
    path: appliances
    icon: mdi:washing-machine
    subview: true
    back_path: /my-dashboard/default_view
    max_columns: 2
    sections:
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: picture-elements
                elements:
                  - type: image
                    entity: sensor.top_load_washer_run_state
                    image: /local/lg-icons/sensing.png
                    state_image:
                      Detecting: /local/lg-icons/sensing-on.png
                    style:
                      top: 33%
                      left: 33%
                      width: 20%
                      image-rendering: crisp
                  - type: image
                    entity: sensor.top_load_washer_run_state
                    image: /local/lg-icons/wash.png
                    state_image:
                      Washing: /local/lg-icons/wash-on.png
                    style:
                      top: 33%
                      left: 51%
                      width: 20%
                      image-rendering: crisp
                  - type: image
                    entity: sensor.top_load_washer_run_state
                    image: /local/lg-icons/rinse.png
                    state_image:
                      Rinsing: /local/lg-icons/rinse-on.png
                    style:
                      top: 33%
                      left: 69%
                      width: 20%
                      image-rendering: crisp
                  - type: image
                    entity: sensor.top_load_washer_run_state
                    image: /local/lg-icons/spin.png
                    state_image:
                      Spinning: /local/lg-icons/spin-on.png
                    style:
                      top: 33%
                      left: 87%
                      width: 20%
                      image-rendering: crisp
                  - type: image
                    entity: sensor.top_load_washer
                    image: /local/lg-icons/wifi.png
                    state_image:
                      'on': /local/lg-icons/wifi-on.png
                    style:
                      top: 73%
                      left: 32%
                      width: 10%
                      image-rendering: crisp
                  - type: image
                    entity: binary_sensor.top_load_washer_door_lock
                    image: /local/lg-icons/lock.png
                    state_image:
                      'on': /local/lg-icons/lock-on.png
                    style:
                      top: 73%
                      left: 45%
                      width: 10%
                      image-rendering: crisp
                  - type: state-label
                    entity: sensor.top_load_washer_remaining_time
                    style:
                      color: '#8df427'
                      font-family: segment7
                      font-size: 50px
                      left: 95%
                      top: 74%
                      transform: translate(-100%,-50%)
                image: /local/hass-washer-card-bg.png
              - type: conditional
                conditions:
                  - entity: sensor.top_load_washer_run_state
                    state_not: '-'
                card:
                  type: entities
                  entities:
                    - entity: sensor.top_load_washer
                      type: attribute
                      attribute: current_course
                      name: Current Course
                      icon: mdi:tune-vertical-variant
                    - entity: sensor.top_load_washer
                      type: attribute
                      attribute: water_temp
                      name: Water Temperature
                      icon: mdi:coolant-temperature
                    - entity: sensor.top_load_washer
                      type: attribute
                      attribute: spin_speed
                      name: Spin Speed
                      icon: mdi:rotate-right
                  state_color: false
          - type: vertical-stack
            cards:
              - type: picture-elements
                elements:
                  - type: image
                    entity: sensor.dryer_run_state
                    image: /local/lg-icons/dry.png
                    state_image:
                      Drying: /local/lg-icons/dry-on.png
                    style:
                      top: 33%
                      left: 69%
                      width: 20%
                      image-rendering: crisp
                  - type: image
                    entity: sensor.dryer_run_state
                    image: /local/lg-icons/cool.png
                    state_image:
                      Cooling: /local/lg-icons/cool-on.png
                    style:
                      top: 33%
                      left: 87%
                      width: 20%
                      image-rendering: crisp
                  - type: image
                    entity: sensor.dryer
                    image: /local/lg-icons/wifi.png
                    state_image:
                      'on': /local/lg-icons/wifi-on.png
                    style:
                      top: 73%
                      left: 32%
                      width: 10%
                      image-rendering: crisp
                  - type: state-label
                    entity: sensor.dryer_remaining_time
                    style:
                      color: '#8df427'
                      font-family: segment7
                      font-size: 50px
                      left: 95%
                      top: 74%
                      transform: translate(-100%,-50%)
                  - type: image
                    entity: binary_sensor.dryer_child_lock
                    image: /local/lg-icons/lock.png
                    state_image:
                      'on': /local/lg-icons/lock-on.png
                    style:
                      top: 73%
                      left: 45%
                      width: 10%
                      image-rendering: crisp
                image: /local/hass-dryer-card-bg.png
              - type: conditional
                conditions:
                  - entity: sensor.dryer_run_state
                    state_not: '-'
                card:
                  type: entities
                  entities:
                    - entity: sensor.dryer
                      type: attribute
                      attribute: current_course
                      name: Current Course
                      icon: mdi:tune-vertical-variant
                    - entity: sensor.dryer
                      type: attribute
                      attribute: temp_control
                      name: Temperature Control
                      icon: mdi:thermometer
                    - entity: sensor.dryer
                      type: attribute
                      attribute: dry_level
                      name: Dry Level
                      icon: mdi:air-filter
      - type: grid
        cards:
          - type: custom:stack-in-card
            mode: horizontal
            cards:
              - type: custom:button-card
                entity: binary_sensor.kitchen_fridge_door_contact_sensor_intrusion
                icon: mdi:fridge
                name: |
                  [[[
                    return entity.state === 'on' ? 'Open' : 'Closed';
                  ]]]
                layout: vertical
                show_state: false
                show_name: true
                styles:
                  card:
                    - background: var(--ha-card-background, var(--card-background-color, #1c1c1c))
                    - border-radius: var(--ha-card-border-radius, 12px)
                  icon:
                    - width: 100px
                    - height: 100px
                    - color: |
                        [[[
                          return entity.state === 'on' ? '#ff0000' : '#66bb6a';
                        ]]]
                  name:
                    - font-size: 18px
                    - color: |
                        [[[
                          return entity.state === 'on' ? '#ff0000' : '#66bb6a';
                        ]]]
              - type: gauge
                entity: sensor.kitchen_fridge_temp_humidity_temperature
                name: ' '
                unit: F
                needle: true
                min: 30
                max: 50
                segments:
                  - from: 30
                    color: '#ff0000'
                  - from: 35
                    color: '#4caf50'
                  - from: 42
                    color: '#ff0000'
              - type: gauge
                entity: sensor.kitchen_fridge_temp_humidity_humidity
                name: ' '
                unit: '%'
                needle: true
                min: 0
                max: 100
                segments:
                  - from: 0
                    color: '#ff0000'
                  - from: 30
                    color: '#4caf50'
                  - from: 70
                    color: '#ff0000'
          - type: custom:stack-in-card
            mode: horizontal
            cards:
              - type: custom:button-card
                entity: binary_sensor.kitchen_freezer_door_contact_sensor_intrusion
                icon: mdi:snowflake
                name: |
                  [[[
                    return entity.state === 'on' ? 'Open' : 'Closed';
                  ]]]
                layout: vertical
                show_state: false
                show_name: true
                styles:
                  card:
                    - background: var(--ha-card-background, var(--card-background-color, #1c1c1c))
                    - border-radius: var(--ha-card-border-radius, 12px)
                  icon:
                    - width: 100px
                    - height: 100px
                    - color: |
                        [[[
                          return entity.state === 'on' ? '#ff0000' : '#66bb6a';
                        ]]]
                  name:
                    - font-size: 18px
                    - color: |
                        [[[
                          return entity.state === 'on' ? '#ff0000' : '#66bb6a';
                        ]]]
              - type: gauge
                entity: sensor.kitchen_freezer_temp_probe_temperature
                name: ' '
                unit: F
                needle: true
                min: -30
                max: 20
                segments:
                  - from: -30
                    color: '#ff0000'
                  - from: -5
                    color: '#4caf50'
                  - from: 10
                    color: '#ff0000'
              - type: gauge
                entity: sensor.kitchen_freezer_temp_humidity_humidity
                name: ' '
                unit: '%'
                needle: true
                min: 0
                max: 100
                segments:
                  - from: 0
                    color: '#ff0000'
                  - from: 30
                    color: '#4caf50'
                  - from: 70
                    color: '#ff0000'
  - type: sections
    title: Plants
    path: plants
    icon: mdi:flower
    subview: true
    back_path: /my-dashboard/default_view
    max_columns: 4
    sections:
      - type: grid
        cards:
          - type: custom:flower-card
            entity: plant.satsuma_mandarin_2
            battery_sensor: sensor.satsuma_mandarin_battery
            show_bars:
              - moisture
              - temperature
              - humidity
              - dli
              - conductivity
              - illuminance
            display_type: full
          - type: custom:flower-card
            entity: plant.dracaena_fragrans_massangeana
            battery_sensor: sensor.dracaena_fragrans_living_room_battery
            show_bars:
              - moisture
              - temperature
              - humidity
              - dli
              - conductivity
              - illuminance
            display_type: full
          - type: custom:flower-card
            entity: plant.aspidistra_elatior
            battery_sensor: sensor.aspidistra_elatior_battery
            show_bars:
              - moisture
              - temperature
              - humidity
              - dli
              - conductivity
              - illuminance
            display_type: full
          - type: custom:flower-card
            entity: plant.dracaena_fragrans
            battery_sensor: sensor.dracaena_fragrans_front_door_battery
            show_bars:
              - moisture
              - temperature
              - humidity
              - dli
              - conductivity
              - illuminance
            display_type: full
          - type: custom:flower-card
            entity: plant.schefflera_arboricola
            battery_sensor: sensor.schefflera_arboricola_battery
            show_bars:
              - moisture
              - temperature
              - humidity
              - dli
              - conductivity
              - illuminance
            display_type: full
  - type: sections
    title: Water
    path: water
    icon: mdi:water
    subview: true
    back_path: /my-dashboard/default_view
    max_columns: 4
    sections:
      - type: grid
        cards:
          - type: custom:button-card
            entity: sensor.water_softener_salt_status
            name: SALT STATUS
            show_state: true
            show_name: true
            layout: vertical
            styles:
              card:
                - height: 150px
                - background: |
                    [[[
                      return entity.state === 'Good' ? 'rgba(102, 187, 106, 0.2)' : 'rgba(255, 0, 0, 0.2)';
                    ]]]
              icon:
                - width: 60px
                - height: 60px
                - color: |
                    [[[
                      return entity.state === 'Good' ? '#66bb6a' : '#ff0000';
                    ]]]
              name:
                - font-size: 18px
                - font-weight: bold
                - color: gray
                - margin-bottom: 10px
              state:
                - font-size: 48px
                - font-weight: bold
                - color: |
                    [[[
                      return entity.state === 'Good' ? '#66bb6a' : '#ff0000';
                    ]]]
            icon: |
              [[[
                return entity.state === 'Good' ? 'mdi:check-circle' : 'mdi:alert-circle';
              ]]]

          - type: entities
            title: Sensors
            show_header_toggle: false
            state_color: true
            entities:
              - entity: sensor.water_softener_distance_to_salt
                name: Distance to Salt
                icon: mdi:arrow-expand-vertical

              - entity: binary_sensor.water_softener_regeneration_cycle_active
                name: Regeneration Cycle
                icon: mdi:water-sync

              - entity: binary_sensor.water_softener_sensor_out_of_range
                name: Sensor Health
                icon: mdi:alarm-light

              - entity: sensor.water_softener_wifi_signal
                name: WiFi Signal
                icon: mdi:wifi

          - type: statistics-graph
            title: Distance to Salt
            entities:
              - sensor.water_softener_distance_to_salt
            stat_types:
              - mean
            days_to_show: 60
            chart_type: line

          - type: entities
            title: System Information
            show_header_toggle: false
            entities:
              - entity: sensor.water_softener_firmware_version
                name: Firmware Version
                icon: mdi:chip

              - type: custom:template-entity-row
                entity: input_datetime.water_softener_last_notification
                name: Last Alert Sent
                icon: mdi:message-alert
                state: >-
                  {{ as_timestamp(states('input_datetime.water_softener_last_notification')) | timestamp_custom('%b %d, %Y %-I:%M %p') }}

              - type: custom:template-entity-row
                entity: input_datetime.water_softener_last_regeneration
                name: Last Regeneration
                icon: mdi:water-sync
                state: >-
                  {{ as_timestamp(states('input_datetime.water_softener_last_regeneration')) | timestamp_custom('%b %d, %Y %-I:%M %p') }}
      - type: grid
        cards:
          - type: heading
            heading: Leak Detection
          - type: markdown
            content: |
              {% set active_count = states.binary_sensor
                 | selectattr('entity_id', 'search', 'water_leak')
                 | selectattr('state', 'eq', 'on')
                 | list | length %}
              {% if active_count > 0 %}
              ## **ACTIVE LEAKS: {{ active_count }}**
              {% else %}
              ## All Clear
              {% endif %}
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: binary_sensor.garage_water_heater_moisture_sensor_water_leak
                name: Garage Water Heater
                show_state: true
                variables:
                  silence_entity: input_datetime.leak_silence_garage_water_heater
                state_display: |
                  [[[
                    if (entity.state === 'unavailable' || entity.state === 'unknown') return 'OFFLINE';
                    const silenceState = states[variables.silence_entity]?.state;
                    if (silenceState && silenceState !== 'unknown' && silenceState !== 'unavailable') {
                      const silenceTime = new Date(silenceState);
                      if (silenceTime > new Date()) {
                        return entity.state === 'on' ? 'SILENCED (Wet)' : 'SILENCED (Dry)';
                      }
                    }
                    return entity.state === 'on' ? 'LEAK!' : 'Dry';
                  ]]]
                icon: |
                  [[[
                    if (entity.state === 'unavailable' || entity.state === 'unknown') return 'mdi:water-off';
                    const silenceState = states[variables.silence_entity]?.state;
                    if (silenceState && silenceState !== 'unknown' && silenceState !== 'unavailable') {
                      const silenceTime = new Date(silenceState);
                      if (silenceTime > new Date()) return 'mdi:bell-sleep';
                    }
                    return entity.state === 'on' ? 'mdi:water-alert' : 'mdi:water-check';
                  ]]]
                styles:
                  card:
                    - height: 100px
                  icon:
                    - width: 40px
                    - color: |
                        [[[
                          if (entity.state === 'unavailable' || entity.state === 'unknown') return '#ff9800';
                          const silenceState = states[variables.silence_entity]?.state;
                          if (silenceState && silenceState !== 'unknown' && silenceState !== 'unavailable') {
                            const silenceTime = new Date(silenceState);
                            if (silenceTime > new Date()) {
                              return entity.state === 'on' ? '#ff9800' : '#9e9e9e';
                            }
                          }
                          return entity.state === 'on' ? '#ff0000' : '#4caf50';
                        ]]]
                  name:
                    - font-size: 12px
                  state:
                    - font-size: 11px
                tap_action:
                  action: call-service
                  service: script.leak_silence_sensor
                  service_data:
                    sensor: binary_sensor.garage_water_heater_moisture_sensor_water_leak
                    duration: "[[[ return states['input_select.leak_silence_duration'].state ]]]"
                  confirmation:
                    text: Silence this sensor?
              - type: custom:button-card
                entity: binary_sensor.kitchen_dishwasher_moisture_sensor_water_leak
                name: Kitchen Dishwasher
                show_state: true
                variables:
                  silence_entity: input_datetime.leak_silence_kitchen_dishwasher
                state_display: |
                  [[[
                    if (entity.state === 'unavailable' || entity.state === 'unknown') return 'OFFLINE';
                    const silenceState = states[variables.silence_entity]?.state;
                    if (silenceState && silenceState !== 'unknown' && silenceState !== 'unavailable') {
                      const silenceTime = new Date(silenceState);
                      if (silenceTime > new Date()) {
                        return entity.state === 'on' ? 'SILENCED (Wet)' : 'SILENCED (Dry)';
                      }
                    }
                    return entity.state === 'on' ? 'LEAK!' : 'Dry';
                  ]]]
                icon: |
                  [[[
                    if (entity.state === 'unavailable' || entity.state === 'unknown') return 'mdi:water-off';
                    const silenceState = states[variables.silence_entity]?.state;
                    if (silenceState && silenceState !== 'unknown' && silenceState !== 'unavailable') {
                      const silenceTime = new Date(silenceState);
                      if (silenceTime > new Date()) return 'mdi:bell-sleep';
                    }
                    return entity.state === 'on' ? 'mdi:water-alert' : 'mdi:water-check';
                  ]]]
                styles:
                  card:
                    - height: 100px
                  icon:
                    - width: 40px
                    - color: |
                        [[[
                          if (entity.state === 'unavailable' || entity.state === 'unknown') return '#ff9800';
                          const silenceState = states[variables.silence_entity]?.state;
                          if (silenceState && silenceState !== 'unknown' && silenceState !== 'unavailable') {
                            const silenceTime = new Date(silenceState);
                            if (silenceTime > new Date()) {
                              return entity.state === 'on' ? '#ff9800' : '#9e9e9e';
                            }
                          }
                          return entity.state === 'on' ? '#ff0000' : '#4caf50';
                        ]]]
                  name:
                    - font-size: 12px
                  state:
                    - font-size: 11px
                tap_action:
                  action: call-service
                  service: script.leak_silence_sensor
                  service_data:
                    sensor: binary_sensor.kitchen_dishwasher_moisture_sensor_water_leak
                    duration: "[[[ return states['input_select.leak_silence_duration'].state ]]]"
                  confirmation:
                    text: Silence this sensor?
              - type: custom:button-card
                entity: binary_sensor.kitchen_refrigerator_moisture_sensor_water_leak
                name: Kitchen Refrigerator
                show_state: true
                variables:
                  silence_entity: input_datetime.leak_silence_kitchen_refrigerator
                state_display: |
                  [[[
                    if (entity.state === 'unavailable' || entity.state === 'unknown') return 'OFFLINE';
                    const silenceState = states[variables.silence_entity]?.state;
                    if (silenceState && silenceState !== 'unknown' && silenceState !== 'unavailable') {
                      const silenceTime = new Date(silenceState);
                      if (silenceTime > new Date()) {
                        return entity.state === 'on' ? 'SILENCED (Wet)' : 'SILENCED (Dry)';
                      }
                    }
                    return entity.state === 'on' ? 'LEAK!' : 'Dry';
                  ]]]
                icon: |
                  [[[
                    if (entity.state === 'unavailable' || entity.state === 'unknown') return 'mdi:water-off';
                    const silenceState = states[variables.silence_entity]?.state;
                    if (silenceState && silenceState !== 'unknown' && silenceState !== 'unavailable') {
                      const silenceTime = new Date(silenceState);
                      if (silenceTime > new Date()) return 'mdi:bell-sleep';
                    }
                    return entity.state === 'on' ? 'mdi:water-alert' : 'mdi:water-check';
                  ]]]
                styles:
                  card:
                    - height: 100px
                  icon:
                    - width: 40px
                    - color: |
                        [[[
                          if (entity.state === 'unavailable' || entity.state === 'unknown') return '#ff9800';
                          const silenceState = states[variables.silence_entity]?.state;
                          if (silenceState && silenceState !== 'unknown' && silenceState !== 'unavailable') {
                            const silenceTime = new Date(silenceState);
                            if (silenceTime > new Date()) {
                              return entity.state === 'on' ? '#ff9800' : '#9e9e9e';
                            }
                          }
                          return entity.state === 'on' ? '#ff0000' : '#4caf50';
                        ]]]
                  name:
                    - font-size: 12px
                  state:
                    - font-size: 11px
                tap_action:
                  action: call-service
                  service: script.leak_silence_sensor
                  service_data:
                    sensor: binary_sensor.kitchen_refrigerator_moisture_sensor_water_leak
                    duration: "[[[ return states['input_select.leak_silence_duration'].state ]]]"
                  confirmation:
                    text: Silence this sensor?
              - type: custom:button-card
                entity: binary_sensor.kitchen_sink_moisture_sensor_water_leak
                name: Kitchen Sink
                show_state: true
                variables:
                  silence_entity: input_datetime.leak_silence_kitchen_sink
                state_display: |
                  [[[
                    if (entity.state === 'unavailable' || entity.state === 'unknown') return 'OFFLINE';
                    const silenceState = states[variables.silence_entity]?.state;
                    if (silenceState && silenceState !== 'unknown' && silenceState !== 'unavailable') {
                      const silenceTime = new Date(silenceState);
                      if (silenceTime > new Date()) {
                        return entity.state === 'on' ? 'SILENCED (Wet)' : 'SILENCED (Dry)';
                      }
                    }
                    return entity.state === 'on' ? 'LEAK!' : 'Dry';
                  ]]]
                icon: |
                  [[[
                    if (entity.state === 'unavailable' || entity.state === 'unknown') return 'mdi:water-off';
                    const silenceState = states[variables.silence_entity]?.state;
                    if (silenceState && silenceState !== 'unknown' && silenceState !== 'unavailable') {
                      const silenceTime = new Date(silenceState);
                      if (silenceTime > new Date()) return 'mdi:bell-sleep';
                    }
                    return entity.state === 'on' ? 'mdi:water-alert' : 'mdi:water-check';
                  ]]]
                styles:
                  card:
                    - height: 100px
                  icon:
                    - width: 40px
                    - color: |
                        [[[
                          if (entity.state === 'unavailable' || entity.state === 'unknown') return '#ff9800';
                          const silenceState = states[variables.silence_entity]?.state;
                          if (silenceState && silenceState !== 'unknown' && silenceState !== 'unavailable') {
                            const silenceTime = new Date(silenceState);
                            if (silenceTime > new Date()) {
                              return entity.state === 'on' ? '#ff9800' : '#9e9e9e';
                            }
                          }
                          return entity.state === 'on' ? '#ff0000' : '#4caf50';
                        ]]]
                  name:
                    - font-size: 12px
                  state:
                    - font-size: 11px
                tap_action:
                  action: call-service
                  service: script.leak_silence_sensor
                  service_data:
                    sensor: binary_sensor.kitchen_sink_moisture_sensor_water_leak
                    duration: "[[[ return states['input_select.leak_silence_duration'].state ]]]"
                  confirmation:
                    text: Silence this sensor?
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: binary_sensor.master_bathroom_moisture_sensor_water_leak
                name: Master Bathroom
                show_state: true
                variables:
                  silence_entity: input_datetime.leak_silence_master_bathroom
                state_display: |
                  [[[
                    if (entity.state === 'unavailable' || entity.state === 'unknown') return 'OFFLINE';
                    const silenceState = states[variables.silence_entity]?.state;
                    if (silenceState && silenceState !== 'unknown' && silenceState !== 'unavailable') {
                      const silenceTime = new Date(silenceState);
                      if (silenceTime > new Date()) {
                        return entity.state === 'on' ? 'SILENCED (Wet)' : 'SILENCED (Dry)';
                      }
                    }
                    return entity.state === 'on' ? 'LEAK!' : 'Dry';
                  ]]]
                icon: |
                  [[[
                    if (entity.state === 'unavailable' || entity.state === 'unknown') return 'mdi:water-off';
                    const silenceState = states[variables.silence_entity]?.state;
                    if (silenceState && silenceState !== 'unknown' && silenceState !== 'unavailable') {
                      const silenceTime = new Date(silenceState);
                      if (silenceTime > new Date()) return 'mdi:bell-sleep';
                    }
                    return entity.state === 'on' ? 'mdi:water-alert' : 'mdi:water-check';
                  ]]]
                styles:
                  card:
                    - height: 100px
                  icon:
                    - width: 40px
                    - color: |
                        [[[
                          if (entity.state === 'unavailable' || entity.state === 'unknown') return '#ff9800';
                          const silenceState = states[variables.silence_entity]?.state;
                          if (silenceState && silenceState !== 'unknown' && silenceState !== 'unavailable') {
                            const silenceTime = new Date(silenceState);
                            if (silenceTime > new Date()) {
                              return entity.state === 'on' ? '#ff9800' : '#9e9e9e';
                            }
                          }
                          return entity.state === 'on' ? '#ff0000' : '#4caf50';
                        ]]]
                  name:
                    - font-size: 12px
                  state:
                    - font-size: 11px
                tap_action:
                  action: call-service
                  service: script.leak_silence_sensor
                  service_data:
                    sensor: binary_sensor.master_bathroom_moisture_sensor_water_leak
                    duration: "[[[ return states['input_select.leak_silence_duration'].state ]]]"
                  confirmation:
                    text: Silence this sensor?
              - type: custom:button-card
                entity: binary_sensor.master_bedroom_vanity_moisture_sensor_water_leak
                name: Master Vanity
                show_state: true
                variables:
                  silence_entity: input_datetime.leak_silence_master_bedroom_vanity
                state_display: |
                  [[[
                    if (entity.state === 'unavailable' || entity.state === 'unknown') return 'OFFLINE';
                    const silenceState = states[variables.silence_entity]?.state;
                    if (silenceState && silenceState !== 'unknown' && silenceState !== 'unavailable') {
                      const silenceTime = new Date(silenceState);
                      if (silenceTime > new Date()) {
                        return entity.state === 'on' ? 'SILENCED (Wet)' : 'SILENCED (Dry)';
                      }
                    }
                    return entity.state === 'on' ? 'LEAK!' : 'Dry';
                  ]]]
                icon: |
                  [[[
                    if (entity.state === 'unavailable' || entity.state === 'unknown') return 'mdi:water-off';
                    const silenceState = states[variables.silence_entity]?.state;
                    if (silenceState && silenceState !== 'unknown' && silenceState !== 'unavailable') {
                      const silenceTime = new Date(silenceState);
                      if (silenceTime > new Date()) return 'mdi:bell-sleep';
                    }
                    return entity.state === 'on' ? 'mdi:water-alert' : 'mdi:water-check';
                  ]]]
                styles:
                  card:
                    - height: 100px
                  icon:
                    - width: 40px
                    - color: |
                        [[[
                          if (entity.state === 'unavailable' || entity.state === 'unknown') return '#ff9800';
                          const silenceState = states[variables.silence_entity]?.state;
                          if (silenceState && silenceState !== 'unknown' && silenceState !== 'unavailable') {
                            const silenceTime = new Date(silenceState);
                            if (silenceTime > new Date()) {
                              return entity.state === 'on' ? '#ff9800' : '#9e9e9e';
                            }
                          }
                          return entity.state === 'on' ? '#ff0000' : '#4caf50';
                        ]]]
                  name:
                    - font-size: 12px
                  state:
                    - font-size: 11px
                tap_action:
                  action: call-service
                  service: script.leak_silence_sensor
                  service_data:
                    sensor: binary_sensor.master_bedroom_vanity_moisture_sensor_water_leak
                    duration: "[[[ return states['input_select.leak_silence_duration'].state ]]]"
                  confirmation:
                    text: Silence this sensor?
              - type: custom:button-card
                entity: binary_sensor.upstairs_vanity_moisture_sensor_water_leak
                name: Upstairs Vanity
                show_state: true
                variables:
                  silence_entity: input_datetime.leak_silence_upstairs_vanity
                state_display: |
                  [[[
                    if (entity.state === 'unavailable' || entity.state === 'unknown') return 'OFFLINE';
                    const silenceState = states[variables.silence_entity]?.state;
                    if (silenceState && silenceState !== 'unknown' && silenceState !== 'unavailable') {
                      const silenceTime = new Date(silenceState);
                      if (silenceTime > new Date()) {
                        return entity.state === 'on' ? 'SILENCED (Wet)' : 'SILENCED (Dry)';
                      }
                    }
                    return entity.state === 'on' ? 'LEAK!' : 'Dry';
                  ]]]
                icon: |
                  [[[
                    if (entity.state === 'unavailable' || entity.state === 'unknown') return 'mdi:water-off';
                    const silenceState = states[variables.silence_entity]?.state;
                    if (silenceState && silenceState !== 'unknown' && silenceState !== 'unavailable') {
                      const silenceTime = new Date(silenceState);
                      if (silenceTime > new Date()) return 'mdi:bell-sleep';
                    }
                    return entity.state === 'on' ? 'mdi:water-alert' : 'mdi:water-check';
                  ]]]
                styles:
                  card:
                    - height: 100px
                  icon:
                    - width: 40px
                    - color: |
                        [[[
                          if (entity.state === 'unavailable' || entity.state === 'unknown') return '#ff9800';
                          const silenceState = states[variables.silence_entity]?.state;
                          if (silenceState && silenceState !== 'unknown' && silenceState !== 'unavailable') {
                            const silenceTime = new Date(silenceState);
                            if (silenceTime > new Date()) {
                              return entity.state === 'on' ? '#ff9800' : '#9e9e9e';
                            }
                          }
                          return entity.state === 'on' ? '#ff0000' : '#4caf50';
                        ]]]
                  name:
                    - font-size: 12px
                  state:
                    - font-size: 11px
                tap_action:
                  action: call-service
                  service: script.leak_silence_sensor
                  service_data:
                    sensor: binary_sensor.upstairs_vanity_moisture_sensor_water_leak
                    duration: "[[[ return states['input_select.leak_silence_duration'].state ]]]"
                  confirmation:
                    text: Silence this sensor?
              - type: custom:button-card
                entity: binary_sensor.upstairs_bathroom_moisture_sensor_water_leak
                name: Upstairs Bathroom
                show_state: true
                variables:
                  silence_entity: input_datetime.leak_silence_upstairs_bathroom
                state_display: |
                  [[[
                    if (entity.state === 'unavailable' || entity.state === 'unknown') return 'OFFLINE';
                    const silenceState = states[variables.silence_entity]?.state;
                    if (silenceState && silenceState !== 'unknown' && silenceState !== 'unavailable') {
                      const silenceTime = new Date(silenceState);
                      if (silenceTime > new Date()) {
                        return entity.state === 'on' ? 'SILENCED (Wet)' : 'SILENCED (Dry)';
                      }
                    }
                    return entity.state === 'on' ? 'LEAK!' : 'Dry';
                  ]]]
                icon: |
                  [[[
                    if (entity.state === 'unavailable' || entity.state === 'unknown') return 'mdi:water-off';
                    const silenceState = states[variables.silence_entity]?.state;
                    if (silenceState && silenceState !== 'unknown' && silenceState !== 'unavailable') {
                      const silenceTime = new Date(silenceState);
                      if (silenceTime > new Date()) return 'mdi:bell-sleep';
                    }
                    return entity.state === 'on' ? 'mdi:water-alert' : 'mdi:water-check';
                  ]]]
                styles:
                  card:
                    - height: 100px
                  icon:
                    - width: 40px
                    - color: |
                        [[[
                          if (entity.state === 'unavailable' || entity.state === 'unknown') return '#ff9800';
                          const silenceState = states[variables.silence_entity]?.state;
                          if (silenceState && silenceState !== 'unknown' && silenceState !== 'unavailable') {
                            const silenceTime = new Date(silenceState);
                            if (silenceTime > new Date()) {
                              return entity.state === 'on' ? '#ff9800' : '#9e9e9e';
                            }
                          }
                          return entity.state === 'on' ? '#ff0000' : '#4caf50';
                        ]]]
                  name:
                    - font-size: 12px
                  state:
                    - font-size: 11px
                tap_action:
                  action: call-service
                  service: script.leak_silence_sensor
                  service_data:
                    sensor: binary_sensor.upstairs_bathroom_moisture_sensor_water_leak
                    duration: "[[[ return states['input_select.leak_silence_duration'].state ]]]"
                  confirmation:
                    text: Silence this sensor?
          - type: entities
            title: System Controls
            show_header_toggle: false
            entities:
              - entity: input_boolean.disable_leak_alerts
                name: Disable All Alerts
                icon: mdi:bell-off
              - entity: automation.leak_detection_alert
                name: Leak Detection Automation
                secondary_info: last-triggered
              - entity: input_datetime.leak_last_notification
                name: Last Alert Sent
              - type: divider
              - entity: input_select.leak_silence_duration
                name: Default Silence Duration
          - type: entities
            title: Silence Timers
            show_header_toggle: false
            entities:
              - entity: input_datetime.leak_silence_garage_water_heater
                name: Garage Water Heater
                icon: mdi:water-off
                tap_action:
                  action: call-service
                  service: script.leak_clear_silence
                  service_data:
                    sensor: binary_sensor.garage_water_heater_moisture_sensor_water_leak
                  confirmation:
                    text: Clear silence for this sensor?
              - entity: input_datetime.leak_silence_kitchen_dishwasher
                name: Kitchen Dishwasher
                icon: mdi:water-off
                tap_action:
                  action: call-service
                  service: script.leak_clear_silence
                  service_data:
                    sensor: binary_sensor.kitchen_dishwasher_moisture_sensor_water_leak
                  confirmation:
                    text: Clear silence for this sensor?
              - entity: input_datetime.leak_silence_kitchen_refrigerator
                name: Kitchen Refrigerator
                icon: mdi:water-off
                tap_action:
                  action: call-service
                  service: script.leak_clear_silence
                  service_data:
                    sensor: binary_sensor.kitchen_refrigerator_moisture_sensor_water_leak
                  confirmation:
                    text: Clear silence for this sensor?
              - entity: input_datetime.leak_silence_kitchen_sink
                name: Kitchen Sink
                icon: mdi:water-off
                tap_action:
                  action: call-service
                  service: script.leak_clear_silence
                  service_data:
                    sensor: binary_sensor.kitchen_sink_moisture_sensor_water_leak
                  confirmation:
                    text: Clear silence for this sensor?
              - entity: input_datetime.leak_silence_master_bathroom
                name: Master Bathroom
                icon: mdi:water-off
                tap_action:
                  action: call-service
                  service: script.leak_clear_silence
                  service_data:
                    sensor: binary_sensor.master_bathroom_moisture_sensor_water_leak
                  confirmation:
                    text: Clear silence for this sensor?
              - entity: input_datetime.leak_silence_master_bedroom_vanity
                name: Master Bedroom Vanity
                icon: mdi:water-off
                tap_action:
                  action: call-service
                  service: script.leak_clear_silence
                  service_data:
                    sensor: binary_sensor.master_bedroom_vanity_moisture_sensor_water_leak
                  confirmation:
                    text: Clear silence for this sensor?
              - entity: input_datetime.leak_silence_upstairs_vanity
                name: Upstairs Vanity
                icon: mdi:water-off
                tap_action:
                  action: call-service
                  service: script.leak_clear_silence
                  service_data:
                    sensor: binary_sensor.upstairs_vanity_moisture_sensor_water_leak
                  confirmation:
                    text: Clear silence for this sensor?
              - entity: input_datetime.leak_silence_upstairs_bathroom
                name: Upstairs Bathroom
                icon: mdi:water-off
                tap_action:
                  action: call-service
                  service: script.leak_clear_silence
                  service_data:
                    sensor: binary_sensor.upstairs_bathroom_moisture_sensor_water_leak
                  confirmation:
                    text: Clear silence for this sensor?
              - type: divider
              - type: button
                name: Clear All Silences
                icon: mdi:bell-ring
                tap_action:
                  action: call-service
                  service: script.leak_clear_all_silences
                  confirmation:
                    text: Clear all silence timers?
          - type: history-graph
            title: Leak History (7 days)
            hours_to_show: 168
            entities:
              - entity: binary_sensor.garage_water_heater_moisture_sensor_water_leak
                name: Garage
              - entity: binary_sensor.kitchen_dishwasher_moisture_sensor_water_leak
                name: Dishwasher
              - entity: binary_sensor.kitchen_refrigerator_moisture_sensor_water_leak
                name: Refrigerator
              - entity: binary_sensor.kitchen_sink_moisture_sensor_water_leak
                name: Kitchen Sink
              - entity: binary_sensor.master_bathroom_moisture_sensor_water_leak
                name: Master Bath
              - entity: binary_sensor.master_bedroom_vanity_moisture_sensor_water_leak
                name: Master Vanity
              - entity: binary_sensor.upstairs_vanity_moisture_sensor_water_leak
                name: Upstairs Vanity
              - entity: binary_sensor.upstairs_bathroom_moisture_sensor_water_leak
                name: Upstairs Bath
  - type: sections
    title: Entry & Security
    path: entry-security
    icon: mdi:shield-lock
    subview: true
    back_path: /my-dashboard/default_view
    max_columns: 2
    sections:
      - type: grid
        cards:
          - type: heading
            heading: Access Control
          - type: grid
            columns: 2
            square: false
            cards:
              - type: tile
                entity: cover.garage_door_opener_door
                name: Garage Door
                icon: mdi:garage
                tap_action:
                  action: toggle
                  confirmation:
                    text: Open/close garage door?
              - type: tile
                entity: lock.front_door_lock
                name: Front Door Lock
                icon: mdi:door-closed-lock
                tap_action:
                  action: toggle
                  confirmation:
                    text: Lock/unlock front door?
          - type: entities
            title: Door & Window Sensors
            show_header_toggle: false
            state_color: true
            entities:
              - entity: binary_sensor.front_door_group_contact_sensor
                name: Front Door
                secondary_info: last-changed
              - entity: binary_sensor.kitchen_door_group_contact_sensor
                name: Kitchen Door
                secondary_info: last-changed
              - entity: binary_sensor.patio_door_contact_sensor_contact
                name: Patio Door
                secondary_info: last-changed
              - type: divider
              - entity: binary_sensor.zoe_bedroom_window_contact_sensor_contact
                name: Zoe Window
                secondary_info: last-changed
                icon: mdi:window-closed
              - entity: binary_sensor.master_bedroom_window_contact_sensor_contact
                name: Master Bedroom Window
                secondary_info: last-changed
                icon: mdi:window-closed
      - type: grid
        cards:
          - type: heading
            heading: Security System
          - type: tile
            entity: input_select.home_security_mode
            name: Security Mode
            icon: mdi:shield-home
            color: >-
              {% if is_state('input_select.home_security_mode', 'Away') %} red
              {% else %} green {% endif %}
            features:
              - type: select-options
          - type: entities
            title: System Status
            show_header_toggle: false
            state_color: true
            entities:
              - type: custom:template-entity-row
                entity: input_datetime.home_security_last_analysis
                name: Last Analysis
                state: >-
                  {{
                  relative_time(states.input_datetime.home_security_last_analysis.last_changed)
                  }} ago
                icon: mdi:clock-check
                tap_action:
                  action: none
              - entity: input_boolean.home_security_audio_alerts
                name: Audio Alerts
          - type: entities
            title: Advanced Settings
            show_header_toggle: false
            state_color: true
            entities:
              - entity: input_number.home_security_tts_volume
                name: Alert Volume
              - entity: input_number.home_security_confidence_threshold
                name: Confidence Threshold
              - entity: input_number.home_security_warning_rate_limit
                name: Warning Rate Limit
